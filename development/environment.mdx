---
title: "Development Environment"
description: "Setting up your local development environment for the Guru Network Framework"
icon: "laptop-code"
---

# Development Environment

Get your local development environment up and running quickly with the Guru Network Framework.

## Prerequisites

<CardGroup cols={2}>
  <Card title="Required Software" icon="download">
    - Node.js 18+ and pnpm
    - Python 3.11+ and Poetry
    - Java 17+ and Gradle
    - Docker & Docker Compose
    - PostgreSQL 15+
    - Redis 7+
  </Card>
  <Card title="Development Tools" icon="tools">
    - VS Code or IntelliJ IDEA
    - Git 2.30+
    - Postman or similar API client
    - DBeaver or pgAdmin
    - Optional: Kubernetes (minikube/k3s)
  </Card>
</CardGroup>

## Quick Setup

<Steps>
  <Step title="Clone Repository">
    ```bash
    git clone https://github.com/dex-guru/guru-framework.git
    cd guru-framework
    ```
  </Step>
  <Step title="Install Dependencies">
    ```bash
    # Install all dependencies for all services
    ./scripts/install-deps.sh

    # Or install individually:
    cd frontend && pnpm install
    cd ../engine && ./gradlew build
    cd ../workers && poetry install
    cd ../flowapi && poetry install
    ```
  </Step>
  <Step title="Setup Environment">
    ```bash
    # Copy environment template
    cp .env.example .env

    # Edit configuration
    nano .env
    ```
  </Step>
  <Step title="Start Services">
    ```bash
    # Start infrastructure
    docker-compose -f docker-compose.dev.yml up -d postgres redis clickhouse

    # Start application services
    ./scripts/dev-start.sh
    ```
  </Step>
</Steps>

## Environment Configuration

### üîß Environment Variables

<Tabs>
  <Tab title=".env">
    ```bash
    # Database Configuration
    DATABASE_URL=postgresql://guru:password@localhost:5432/guru_dev
    REDIS_URL=redis://localhost:6379/0
    CLICKHOUSE_URL=http://localhost:8123
    ELASTICSEARCH_URL=http://localhost:9200

    # Camunda Engine
    CAMUNDA_ADMIN_USER=admin
    CAMUNDA_ADMIN_PASSWORD=admin123
    CAMUNDA_DB_URL=postgresql://guru:password@localhost:5432/camunda_dev

    # FlowAPI Configuration
    FLOWAPI_HOST=0.0.0.0
    FLOWAPI_PORT=8000
    FLOWAPI_WORKERS=4
    JWT_SECRET_KEY=your-super-secret-jwt-key-here
    JWT_ALGORITHM=HS256

    # Frontend Configuration
    NEXT_PUBLIC_API_URL=http://localhost:8000
    NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws
    NEXTAUTH_SECRET=your-nextauth-secret-here
    NEXTAUTH_URL=http://localhost:3000

    # Blockchain Configuration
    ETHEREUM_RPC_URL=https://eth-mainnet.alchemyapi.io/v2/your-api-key
    BSC_RPC_URL=https://bsc-dataseed.binance.org/
    POLYGON_RPC_URL=https://polygon-mainnet.alchemyapi.io/v2/your-api-key
    PRIVATE_KEY=your-wallet-private-key-for-testing

    # External Services
    OPENAI_API_KEY=your-openai-api-key
    TELEGRAM_BOT_TOKEN=your-telegram-bot-token
    COINGECKO_API_KEY=your-coingecko-api-key

    # Development Settings
    NODE_ENV=development
    DEBUG=true
    LOG_LEVEL=debug
    ENABLE_CORS=true
    ```
  </Tab>
  <Tab title="docker-compose.dev.yml">
    ```yaml
    version: '3.8'

    services:
      postgres:
        image: postgres:15
        environment:
          POSTGRES_DB: guru_dev
          POSTGRES_USER: guru
          POSTGRES_PASSWORD: password
        ports:
          - "5432:5432"
        volumes:
          - postgres_dev_data:/var/lib/postgresql/data
          - ./scripts/sql/init-dev.sql:/docker-entrypoint-initdb.d/init.sql

      redis:
        image: redis:7-alpine
        ports:
          - "6379:6379"
        command: redis-server --appendonly yes
        volumes:
          - redis_dev_data:/data

      clickhouse:
        image: clickhouse/clickhouse-server:latest
        ports:
          - "8123:8123"
          - "9000:9000"
        environment:
          CLICKHOUSE_DB: guru_analytics
          CLICKHOUSE_USER: guru
          CLICKHOUSE_PASSWORD: password
        volumes:
          - clickhouse_dev_data:/var/lib/clickhouse

      elasticsearch:
        image: docker.elastic.co/elasticsearch/elasticsearch:8.11.0
        environment:
          - discovery.type=single-node
          - xpack.security.enabled=false
        ports:
          - "9200:9200"
        volumes:
          - elasticsearch_dev_data:/usr/share/elasticsearch/data

      mailhog:
        image: mailhog/mailhog:latest
        ports:
          - "1025:1025"
          - "8025:8025"

    volumes:
      postgres_dev_data:
      redis_dev_data:
      clickhouse_dev_data:
      elasticsearch_dev_data:
    ```
  </Tab>
</Tabs>

## Development Scripts

### üìú Available Scripts

<AccordionGroup>
  <Accordion title="Setup Scripts">
    ```bash
    # Install all dependencies
    ./scripts/install-deps.sh

    # Setup development database
    ./scripts/setup-db.sh

    # Generate sample data
    ./scripts/generate-sample-data.sh

    # Reset development environment
    ./scripts/reset-dev.sh
    ```
  </Accordion>

  <Accordion title="Development Scripts">
    ```bash
    # Start all services in development mode
    ./scripts/dev-start.sh

    # Start individual services
    ./scripts/dev-engine.sh
    ./scripts/dev-workers.sh
    ./scripts/dev-flowapi.sh
    ./scripts/dev-frontend.sh

    # Stop all services
    ./scripts/dev-stop.sh
    ```
  </Accordion>

  <Accordion title="Testing Scripts">
    ```bash
    # Run all tests
    ./scripts/test-all.sh

    # Run tests for specific service
    ./scripts/test-engine.sh
    ./scripts/test-workers.sh
    ./scripts/test-flowapi.sh
    ./scripts/test-frontend.sh

    # Run integration tests
    ./scripts/test-integration.sh
    ```
  </Accordion>
</AccordionGroup>

## Service Development

### üöÄ Frontend Development

<CodeGroup>
```bash Start Frontend
cd frontend
pnpm dev
```

```bash Build Frontend
cd frontend
pnpm build
pnpm start
```

```bash Test Frontend
cd frontend
pnpm test
pnpm test:e2e
```
</CodeGroup>

**Development URL**: http://localhost:3000

Features available in development:
- Hot module replacement
- TypeScript checking
- ESLint and Prettier
- Storybook component library
- Jest unit tests and Playwright E2E tests

### ‚öôÔ∏è Engine Development

<CodeGroup>
```bash Start Engine
cd engine
./gradlew bootRun --args='--spring.profiles.active=dev'
```

```bash Build Engine
cd engine
./gradlew build
```

```bash Test Engine
cd engine
./gradlew test
./gradlew integrationTest
```
</CodeGroup>

**Development URL**: http://localhost:8080
**Camunda Cockpit**: http://localhost:8080/camunda

Development features:
- Spring Boot DevTools for hot reload
- H2 console for database inspection
- Actuator endpoints for monitoring
- JUnit 5 and Testcontainers for testing

### üêç Workers Development

<CodeGroup>
```bash Start Workers
cd workers
poetry run python -m guru_workers.main
```

```bash Development Mode
cd workers
poetry run python -m guru_workers.main --dev --reload
```

```bash Test Workers
cd workers
poetry run pytest
poetry run pytest --cov=guru_workers
```
</CodeGroup>

Development features:
- Auto-reload on code changes
- Debug logging enabled
- Mock blockchain connections
- PyTest with coverage reporting

### üåê FlowAPI Development

<CodeGroup>
```bash Start FlowAPI
cd flowapi
poetry run uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

```bash Test FlowAPI
cd flowapi
poetry run pytest
poetry run pytest --cov=flowapi
```
</CodeGroup>

**Development URL**: http://localhost:8000
**API Documentation**: http://localhost:8000/docs

Development features:
- FastAPI auto-reload
- Interactive API documentation
- WebSocket debugging
- Async request logging

## Database Management

### üóÑÔ∏è PostgreSQL Development

<Tabs>
  <Tab title="Connection">
    ```bash
    # Connect to development database
    psql -h localhost -U guru -d guru_dev

    # Using Docker
    docker exec -it guru-postgres psql -U guru -d guru_dev
    ```
  </Tab>
  <Tab title="Migrations">
    ```bash
    # Engine migrations (Liquibase)
    cd engine
    ./gradlew liquibaseUpdate

    # FlowAPI migrations (Alembic)
    cd flowapi
    poetry run alembic upgrade head

    # Generate new migration
    poetry run alembic revision --autogenerate -m "description"
    ```
  </Tab>
  <Tab title="Sample Data">
    ```sql
    -- Create sample user
    INSERT INTO users (id, username, email, role)
    VALUES ('user-123', 'developer', 'dev@guru-network.io', 'developer');

    -- Create sample workflow
    INSERT INTO workflows (id, name, description, user_id)
    VALUES ('workflow-123', 'Sample Trading Bot', 'Development workflow', 'user-123');
    ```
  </Tab>
</Tabs>

### üìä Analytics Database

<CodeGroup>
```bash ClickHouse
# Connect to ClickHouse
curl -X POST 'http://localhost:8123/' -d 'SHOW TABLES'

# Create development tables
curl -X POST 'http://localhost:8123/' -d '
CREATE TABLE IF NOT EXISTS trades_dev (
    timestamp DateTime,
    user_id String,
    symbol String,
    amount Float64,
    price Float64
) ENGINE = MergeTree()
ORDER BY timestamp'
```

```bash Elasticsearch
# Check cluster health
curl http://localhost:9200/_cluster/health

# Create development index
curl -X PUT "localhost:9200/logs-dev" -H 'Content-Type: application/json' -d '
{
  "mappings": {
    "properties": {
      "timestamp": {"type": "date"},
      "level": {"type": "keyword"},
      "message": {"type": "text"},
      "service": {"type": "keyword"}
    }
  }
}'
```
</CodeGroup>

## Development Workflow

### üîÑ Git Workflow

<Steps>
  <Step title="Feature Branch">
    ```bash
    git checkout -b feature/new-trading-strategy
    git push -u origin feature/new-trading-strategy
    ```
  </Step>
  <Step title="Development">
    ```bash
    # Make changes
    git add .
    git commit -m "feat: implement new trading strategy"

    # Run tests
    ./scripts/test-all.sh
    ```
  </Step>
  <Step title="Pull Request">
    ```bash
    git push origin feature/new-trading-strategy
    # Create PR via GitHub/GitLab
    ```
  </Step>
  <Step title="Code Review">
    - Automated tests must pass
    - Code review approval required
    - Documentation updated if needed
  </Step>
</Steps>

### üß™ Testing Strategy

<CardGroup cols={2}>
  <Card title="Unit Tests" icon="flask">
    - Jest/Vitest for frontend components
    - JUnit 5 for Java services
    - PyTest for Python workers
    - Target: >90% code coverage
  </Card>
  <Card title="Integration Tests" icon="link">
    - API endpoint testing
    - Database integration tests
    - Message queue testing
    - Blockchain simulation tests
  </Card>
</CardGroup>

<CardGroup cols={2}>
  <Card title="E2E Tests" icon="robot">
    - Playwright for frontend flows
    - Postman/Newman for API flows
    - Workflow execution tests
    - User journey testing
  </Card>
  <Card title="Performance Tests" icon="gauge">
    - Load testing with k6
    - Database query optimization
    - Memory leak detection
    - Response time monitoring
  </Card>
</CardGroup>

## Debugging

### üêõ Debug Configuration

<Tabs>
  <Tab title="VS Code">
    ```json .vscode/launch.json
    {
      "version": "0.2.0",
      "configurations": [
        {
          "name": "Debug Engine",
          "type": "java",
          "request": "launch",
          "mainClass": "io.guru.engine.EngineApplication",
          "projectName": "engine",
          "args": "--spring.profiles.active=dev"
        },
        {
          "name": "Debug FlowAPI",
          "type": "python",
          "request": "launch",
          "program": "${workspaceFolder}/flowapi/main.py",
          "console": "integratedTerminal",
          "env": {
            "PYTHONPATH": "${workspaceFolder}/flowapi"
          }
        },
        {
          "name": "Debug Frontend",
          "type": "node",
          "request": "launch",
          "name": "Next.js",
          "program": "${workspaceFolder}/frontend/node_modules/.bin/next",
          "args": ["dev"],
          "cwd": "${workspaceFolder}/frontend"
        }
      ]
    }
    ```
  </Tab>
  <Tab title="IntelliJ IDEA">
    ```xml
    <!-- Engine Debug Configuration -->
    <component name="ProjectRunConfigurationManager">
      <configuration default="false" name="Engine Dev" type="SpringBootApplicationConfigurationType">
        <option name="ACTIVE_PROFILES" value="dev" />
        <option name="MAIN_CLASS_NAME" value="io.guru.engine.EngineApplication" />
        <option name="MODULE_NAME" value="engine.main" />
      </configuration>
    </component>
    ```
  </Tab>
</Tabs>

### üìã Debug Logs

<CodeGroup>
```bash View Logs
# All services
docker-compose -f docker-compose.dev.yml logs -f

# Specific service
docker-compose -f docker-compose.dev.yml logs -f engine

# Application logs
tail -f logs/engine.log
tail -f logs/workers.log
tail -f logs/flowapi.log
```

```bash Log Levels
# Engine (logback-spring.xml)
<logger name="io.guru.engine" level="DEBUG" />
<logger name="org.camunda" level="INFO" />

# Workers (logging.yml)
loggers:
  guru_workers:
    level: DEBUG

# FlowAPI (main.py)
logging.basicConfig(level=logging.DEBUG)
```
</CodeGroup>

## Performance Monitoring

### üìà Development Metrics

<AccordionGroup>
  <Accordion title="Application Metrics">
    ```bash
    # Engine actuator endpoints
    curl http://localhost:8080/actuator/health
    curl http://localhost:8080/actuator/metrics
    curl http://localhost:8080/actuator/prometheus

    # FlowAPI metrics
    curl http://localhost:8000/metrics
    curl http://localhost:8000/health
    ```
  </Accordion>

  <Accordion title="Database Performance">
    ```sql
    -- PostgreSQL slow queries
    SELECT query, mean_time, calls
    FROM pg_stat_statements
    ORDER BY mean_time DESC LIMIT 10;

    -- Connection stats
    SELECT * FROM pg_stat_activity;
    ```
  </Accordion>

  <Accordion title="Memory Profiling">
    ```bash
    # Java heap dump
    jcmd <pid> GC.run_finalization
    jcmd <pid> VM.memory

    # Python memory profiling
    poetry run python -m memory_profiler workers/main.py
    ```
  </Accordion>
</AccordionGroup>

## Common Development Tasks

### üõ†Ô∏è Frequent Operations

<Tabs>
  <Tab title="Add New Worker">
    ```python
    # 1. Create worker class
    from guru_workers.base import BaseWorker

    class NewStrategyWorker(BaseWorker):
        async def execute(self, variables):
            # Implementation
            return {"result": "success"}

    # 2. Register in manager
    WORKER_TOPICS = {
        "new-strategy": NewStrategyWorker,
    }

    # 3. Update BPMN diagram
    <bpmn:serviceTask id="new-strategy-task"
                      camunda:type="external"
                      camunda:topic="new-strategy">
    ```
  </Tab>
  <Tab title="Add API Endpoint">
    ```python
    # 1. Create route
    @app.post("/api/strategies")
    async def create_strategy(
        strategy: StrategyCreate,
        current_user: User = Depends(get_current_user)
    ):
        return await strategy_service.create(strategy, current_user)

    # 2. Add validation
    class StrategyCreate(BaseModel):
        name: str = Field(..., min_length=3, max_length=100)
        description: str = Field(..., max_length=500)

    # 3. Update frontend API client
    export const createStrategy = (data) =>
      api.post('/strategies', data);
    ```
  </Tab>
  <Tab title="Database Migration">
    ```sql
    -- 1. Create migration
    -- liquibase changeset or alembic revision

    -- 2. Add new table/column
    CREATE TABLE strategies (
        id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
        name VARCHAR(100) NOT NULL,
        user_id UUID REFERENCES users(id),
        created_at TIMESTAMP DEFAULT NOW()
    );

    -- 3. Update models
    @Entity
    public class Strategy {
        @Id
        @GeneratedValue
        private UUID id;
        // ...
    }
    ```
  </Tab>
</Tabs>

## Troubleshooting

### ‚ùå Common Issues

<AccordionGroup>
  <Accordion title="Port Already in Use">
    ```bash
    # Find process using port
    lsof -i :8080

    # Kill process
    kill -9 <PID>

    # Or use different port
    export SERVER_PORT=8081
    ```
  </Accordion>

  <Accordion title="Database Connection Failed">
    ```bash
    # Check if PostgreSQL is running
    docker-compose -f docker-compose.dev.yml ps postgres

    # Restart database
    docker-compose -f docker-compose.dev.yml restart postgres

    # Check logs
    docker-compose -f docker-compose.dev.yml logs postgres
    ```
  </Accordion>

  <Accordion title="Worker Not Receiving Tasks">
    ```bash
    # Check Camunda external tasks
    curl "http://localhost:8080/engine-rest/external-task?topicName=your-topic"

    # Check worker registration
    grep "Registered worker" logs/workers.log

    # Restart workers
    ./scripts/dev-workers.sh restart
    ```
  </Accordion>
</AccordionGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="API Development" icon="code" href="/development/api-development">
    Learn about API development patterns and best practices
  </Card>
  <Card title="Testing Guide" icon="flask" href="/development/testing">
    Comprehensive testing strategies and implementation
  </Card>
</CardGroup>

<Note>
  For optimal development experience, use the provided scripts and ensure all dependencies are properly installed. Consider using Docker for consistent development environments across team members.
</Note>